<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.54">


<title data-react-helmet="true">Run Nautilus without Autonomous Loop Closure | Nautilus</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Run Nautilus without Autonomous Loop Closure | Nautilus"><meta data-react-helmet="true" name="description" content="For this tutorial we will be using the [bag file here](https://drive.google.com/open?id=1thDp4MJF6l2yZ9Z_JFAmdhMQZrld0oQ5). Download it and put it in ```&lt;catkin_workspace_path&gt;/src/nautilus_stack/nautilus/data```. You will have to create this folder."><meta data-react-helmet="true" property="og:description" content="For this tutorial we will be using the [bag file here](https://drive.google.com/open?id=1thDp4MJF6l2yZ9Z_JFAmdhMQZrld0oQ5). Download it and put it in ```&lt;catkin_workspace_path&gt;/src/nautilus_stack/nautilus/data```. You will have to create this folder."><meta data-react-helmet="true" property="og:url" content="https://ut-amrl.github.io/nautilus_stack/docs/run_nautilus">

<link data-react-helmet="true" rel="shortcut icon" href="/nautilus_stack/img/favicon.ico">


<link rel="stylesheet" href="/nautilus_stack/styles.7dbe0682.css">


<link rel="preload" href="/nautilus_stack/styles.ac4c4ba0.js" as="script">

<link rel="preload" href="/nautilus_stack/runtime~main.9696211f.js" as="script">

<link rel="preload" href="/nautilus_stack/main.59ca2c0a.js" as="script">

<link rel="preload" href="/nautilus_stack/1.d575a30d.js" as="script">

<link rel="preload" href="/nautilus_stack/2.2aaaa44e.js" as="script">

<link rel="preload" href="/nautilus_stack/3.01de6228.js" as="script">

<link rel="preload" href="/nautilus_stack/1be78505.377570af.js" as="script">

<link rel="preload" href="/nautilus_stack/d77bc226.a63397e5.js" as="script">

<link rel="preload" href="/nautilus_stack/17896441.445986e1.js" as="script">

<link rel="preload" href="/nautilus_stack/d4f222fb.5291e100.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/nautilus_stack/"><img class="navbar__logo" src="/nautilus_stack/img/logo.svg" alt="My Site Logo"><strong class="navbar__title">Nautilus</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/nautilus_stack/docs/getting_started">Docs</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/nautilus_stack/"><img class="navbar__logo" src="/nautilus_stack/img/logo.svg" alt="My Site Logo"><strong class="navbar__title">Nautilus</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" position="left" href="/nautilus_stack/docs/getting_started">Docs</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Using Nautilus</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/nautilus_stack/docs/getting_started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/nautilus_stack/docs/install_nautilus">Installing Nautilus</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" tabindex="0" href="/nautilus_stack/docs/run_nautilus">Run Nautilus without Autonomous Loop Closure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/nautilus_stack/docs/vectorize">Generate a Vector Map</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/nautilus_stack/docs/write_config">Write your own Config</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Config API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nautilus_stack/docs/config_params">Config Parameters</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Run Nautilus without Autonomous Loop Closure</h1></header><div class="markdown"><p>For this tutorial we will be using the <a href="https://drive.google.com/open?id=1thDp4MJF6l2yZ9Z_JFAmdhMQZrld0oQ5">bag file here</a>. Download it and put it in <code>&lt;catkin_workspace_path&gt;/src/nautilus_stack/nautilus/data</code>. You will have to create this folder.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cd &lt;catkin_workspace_path&gt;/src/nautilus_stack/nautilus</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">mkdir data</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">mv ~/Downloads/&lt;bag_file_name&gt; data/</span></div></div></div></div></div><p>Now this bag file already has a launch file and config created for it, so from the catkin root we can just run it like so:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cd &lt;catkin_workspace_path&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">roslaunch src/nautilus_stack/launch/run_stack.launch</span></div></div></div></div></div><p>You should see RViz open and soon after the pointclouds from the bag file will appear in the window. Once the program prints <code>Waiting for Loop Closure input.</code> you can begin to fix any errors that it may have made. For example here is what the LRGC Bag looks like after running through the initial optimization.</p><img alt="Nautilus Pre-Loop Closure" src="/nautilus_stack/img/LGRC_Nautilus.png"><p>We can see this isn&#x27;t perfect, the hallway on the left side is still not connected totally. To fix this we are going to use the Human in the Loop tool offered in nautilus. Click the &quot;Hitl Slam Tool&quot; Button that should be on your RViz toolbar. It looks like this:</p><img alt="HITL Button" src="/nautilus_stack/img/HITL_slam_button.png"><p>After clicking that you will <strong>not</strong> be able to move your camera. You can hit ESC to cancel the operation to get your camera into a better position if needed. From here you will have to draw two lines on the points that are supposed to be in the same place. This allows nautilus to slide the walls along each other until they are correct.</p><p>After you do that you should see something like this as the final results:</p><img alt="Nautilus Post-Loop Closure" src="/nautilus_stack/img/LGRC_Nautilus_Finished.png"></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/run_nautilus.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/nautilus_stack/docs/install_nautilus"><div class="pagination-nav__link--sublabel">Previous</div><div class="pagination-nav__link--label">« Installing Nautilus</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/nautilus_stack/docs/vectorize"><div class="pagination-nav__link--sublabel">Next</div><div class="pagination-nav__link--label">Generate a Vector Map »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://google.github.io/styleguide/cppguide.html" href="https://google.github.io/styleguide/cppguide.html">Style Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/nautilus_stack/docs/getting_started">Getting Started</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/ut-amrl/nautilus">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 Nautilus, Inc. Built with Docusaurus.</div></div></div></footer>
</div>

<script src="/nautilus_stack/styles.ac4c4ba0.js"></script>

<script src="/nautilus_stack/runtime~main.9696211f.js"></script>

<script src="/nautilus_stack/main.59ca2c0a.js"></script>

<script src="/nautilus_stack/1.d575a30d.js"></script>

<script src="/nautilus_stack/2.2aaaa44e.js"></script>

<script src="/nautilus_stack/3.01de6228.js"></script>

<script src="/nautilus_stack/1be78505.377570af.js"></script>

<script src="/nautilus_stack/d77bc226.a63397e5.js"></script>

<script src="/nautilus_stack/17896441.445986e1.js"></script>

<script src="/nautilus_stack/d4f222fb.5291e100.js"></script>


</body>
</html>